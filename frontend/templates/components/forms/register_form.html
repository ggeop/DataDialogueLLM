<div id="pageOverlay" class="page-overlay"></div>

<div id="formContainer" class="form-container">
    <div class="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-message"></div>
    </div>

    <button class="cancel-close-btn">&times;</button>

    <h2 id="register-agent" class="form-title">Register Agent</h2>

    <div class="form-section">
        <h3 id="general" class="form-section-title">General</h3>
        <div class="form-group">
            <label for="agentType">Select an agent type:</label>
            <select id="agentType" onchange="DataDialogue.handleAgentTypeChange()">
                <option value="">Select type...</option>
                <option value="contextual">Contextual</option>
                <option value="general">General</option>
            </select>
        </div>
    </div>

    <div id="llmConfigSection" class="form-section initially-hidden">
        <h3 class="form-section-title">Model Configuration</h3>
        
        <div class="form-group">
            <label>Model Provider:</label>
            <div class="select-with-icon">
                <div class="model-icon"></div>
                <select id="ModelProvider" class="form-control"></select>
            </div>
        </div>

        <div id="modelSelectContainer" class="form-group initially-hidden">
            <!-- Dynamic model selections will be inserted here -->
        </div>

        <div id="tokenGroup" class="form-group initially-hidden">
            <label for="token">Token:</label>
            <input type="password" id="token" class="form-control">
        </div>
    </div>

    <div id="sourceConfigSection" class="form-section initially-hidden">
        <h3 id="source-configuration" class="form-section-title">Source Configuration</h3>
        
        <div class="form-group">
            <label for="sourceType">Source Type:</label>
            <select id="sourceType" class="form-control">
                <!-- TMP Solution, The supported source types should be parsed from backend dynamically -->
                <option value="mysql">MySQL</option>
                <option value="postgresql">PostgreSQL</option>
                <option value="mongodb">Mongo DB</option>
                <option value="csv">CSV</option>
                <option value="databricks">Databricks</option>
            </select>
        </div>

        <div class="form-group" id="filepathGroup" style="display: none;">
            <label>Load CSV File(s):</label>
            <div class="file-selection-container">
                <p class="file-selection-hint">Choose to upload either a single CSV file or select a folder containing CSV files:</p>
                <div class="file-buttons">
                    <div class="file-option">
                        <button type="button" onclick="DataDialogue.selectFile()" class="file-select-btn">
                            Select Single File
                        </button>
                        <span class="option-hint">(Choose one CSV file)</span>
                    </div>
                    <div class="file-option">
                        <button type="button" onclick="DataDialogue.selectFolder()" class="file-select-btn">
                            Select Folder
                        </button>
                        <span class="option-hint">(Choose a folder containing CSV files)</span>
                    </div>
                </div>
                <div class="selected-path-display" id="selectedPathDisplay">
                    No file or folder selected
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="dbname">Database:</label>
            <input type="text" id="dbname" class="form-control">
        </div>

        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" class="form-control">
        </div>

        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" class="form-control">
        </div>

        <div class="form-group">
            <label for="host">Host:</label>
            <input type="text" id="host" class="form-control">
        </div>

        <div class="form-group">
            <label for="port">Port:</label>
            <input type="text" id="port" class="form-control">
        </div>
    </div>

    <button class="submit-btn" onclick="DataDialogue.submitForm()">Register</button>
</div>