<div id="pageOverlay" class="page-overlay"></div>

<div id="formContainer" class="form-container">
    <div class="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-message"></div>
    </div>

    <button class="cancel-close-btn">&times;</button>

    <h2 id="register-agent" class="form-title">Register Agent</h2>

    <div class="form-section">
        <h3 id="general" class="form-section-title">General</h3>
        <div class="form-group">
            <label for="agentType">Select an agent type:</label>
            <select id="agentType" onchange="DataDialogue.handleAgentTypeChange()">
                <option value="">Select type...</option>
                <option value="SQL">SQL</option>
                <option value="General">General</option>
            </select>
        </div>
    </div>

    <div id="llmConfigSection" class="form-section initially-hidden">
        <h3 id="llm-configuration" class="form-section-title">Model Configuration</h3>
        
        <div class="form-group">
            <label>Model Source:</label>
            <div class="select-with-icon">
                <div class="model-icon">
                    <img src="{{ url_for('static', filename='images/google-logo.png') }}" alt="Google" data-source="google" class="source-icon">
                    <img src="{{ url_for('static', filename='images/hf-logo.png') }}" alt="Hugging Face" data-source="huggingface" class="source-icon">
                </div>
                <select id="ModelSource" name="modelSource">
                    <option value="">Select source...</option>
                    <option value="google">Google Cloud AI (Suggested)</option>
                    <option value="huggingface">Hugging Face</option>
                </select>
            </div>
          </div>

        <div id="repoIdGroup" class="form-group initially-hidden">
            <label for="repoId">Repo ID:</label>
            <input type="text" id="repoId" placeholder="Enter repository ID">
        </div>

        <div id="modelNameGroup" class="form-group initially-hidden">
            <label for="modelName">Model Name:</label>
            <input type="text" id="modelName" placeholder="Enter model name">
        </div>

        <div id="tokenGroup" class="form-group initially-hidden">
            <label for="token">Token:</label>
            <input type="password" id="token" placeholder="Enter token">
        </div>
    </div>

    <div id="sourceConfigSection" class="form-section initially-hidden">
        <h3 id="source-configuration" class="form-section-title">Source Configuration</h3>
        
        <div class="form-group">
            <label for="sourceType">Source Type:</label>
            <select id="sourceType">
                <option value="postgresql">PostgreSQL</option>
            </select>
        </div>

        <div class="form-group">
            <label for="dbname">Database:</label>
            <input type="text" id="dbname" placeholder="Enter database name">
        </div>

        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" placeholder="Enter username">
        </div>

        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" placeholder="Enter password">
        </div>

        <div class="form-group">
            <label for="host">Host:</label>
            <input type="text" id="host" placeholder="Enter host">
        </div>

        <div class="form-group">
            <label for="port">Port:</label>
            <input type="text" id="port" placeholder="Enter port">
        </div>
    </div>

    <button class="submit-btn" onclick="DataDialogue.submitForm()">Connect</button>
</div>